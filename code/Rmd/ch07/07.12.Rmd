### 7.12.1 Rの場合

```{r}
library(tidyverse)
library(caret)
modelLookup("knn")
#>   model parameter      label forReg forClass probModel
#> 1   knn         k #Neighbors   TRUE     TRUE      TRUE
```

```{r}
my_data <- cars
my_model <- train(form = dist ~ speed, data = my_data, method = "knn")
```

```{r}
my_model <- train(form = dist ~ speed, data = my_data, method = "knn",
                  tuneGrid = expand.grid(k = 1:15))
```

```{r}
ggplot(my_model)
```

```{r}
my_model$results %>% filter(RMSE == min(my_model$results$RMSE))
#>   k     RMSE  Rsquared      MAE   RMSESD RsquaredSD MAESD
#> 1 5 16.37505 0.6116958 12.84625 3.271331  0.1077829 2.356
```

#### 7.12.1.1 関数\texttt{train

```{r}
my_model <-
  train(form = dist ~ speed,
        data = my_data,
        method = "knn",
        linout = TRUE,
        preProcess = c("center", "scale"),
        tuneGrid = expand.grid(k = 1:15),
        tuneLength = 10, # この例では無効
        trControl = trainControl(method = "boot", number = 50))
```

