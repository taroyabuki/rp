### 12.4.1 ドロップアウト

```{r}
library(keras)
my_model <- keras_model_sequential() %>%
  layer_conv_2d(filters = 32, kernel_size = 3, activation = "relu",
                input_shape = c(28, 28, 1)) %>%
  layer_max_pooling_2d(pool_size = 2) %>%
  layer_dropout(rate = 0.25) %>% # ドロップアウト
  layer_flatten() %>%
  layer_dense(units = 128, activation = "relu") %>%
  layer_dense(units = 10, activation = "softmax")
```

### 12.4.2 正則化

```{r}
library(keras)
my_model <- keras_model_sequential() %>%
  layer_conv_2d(filters = 32, kernel_size = 3, activation = "relu",
                input_shape = c(28, 28, 1)) %>%
  layer_max_pooling_2d(pool_size = 2) %>%
  layer_flatten() %>%
  layer_dense(units = 128, activation = "relu",
              kernel_regularizer = regularizer_l2(0.001)) %>% # Ridge回帰
  layer_dense(units = 10, activation = "softmax")
```

